{% extends 'base.html' %}
{% load static %}

{% block title %}My Profile - Medicare{% endblock %}

{% block extra_css %}
<style>
    .profile-container {
        max-width: 900px;
        margin: 80px auto;
    }
    
    .profile-header {
        background-color: #f8f9fa;
        border-radius: 10px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    
    .profile-avatar {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #fff;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .profile-nav {
        margin-bottom: 30px;
    }
    
    .profile-nav .nav-link {
        color: #6c757d;
        padding: 15px 20px;
        border-radius: 8px;
        margin-right: 10px;
        transition: all 0.3s ease;
    }
    
    .profile-nav .nav-link:hover {
        background-color: #f1f1f1;
    }
    
    .profile-nav .nav-link.active {
        background-color: #0d6efd;
        color: #fff;
    }
    
    .profile-card {
        background-color: #fff;
        border-radius: 10px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    
    .appointment-card {
        border-radius: 8px;
        border: 1px solid #e0e0e0;
        padding: 20px;
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }
    
    .appointment-card:hover {
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .appointment-status {
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
    }
    
    .status-confirmed {
        background-color: #d1e7dd;
        color: #0f5132;
    }
    
    .status-pending {
        background-color: #fff3cd;
        color: #664d03;
    }
    
    .status-completed {
        background-color: #cff4fc;
        color: #055160;
    }
    
    .prescription-item {
        border-bottom: 1px solid #e0e0e0;
        padding: 15px 0;
    }
    
    .prescription-item:last-child {
        border-bottom: none;
    }
</style>
{% endblock %}

{% block content %}
<div class="container profile-container">
    <div class="profile-header d-flex align-items-center">
        <img src="{% static 'images/patient1.jpg' %}" alt="Profile Avatar" class="profile-avatar me-4">
        <div>
            <h2>Havindu Nimadith</h2>
            <p class="text-muted mb-0">ID Card: MED-ID-12345678</p>
            <p class="text-muted mb-3">Joined: June 15, 2024</p>
            <a href="#" class="btn btn-outline-primary btn-sm">Edit Profile</a>
        </div>
    </div>
    
    <div class="nav profile-nav" id="profileTab" role="tablist">
        <div class="nav-item">
            <button class="nav-link active" id="appointments-tab" data-bs-toggle="tab" data-bs-target="#appointments" type="button" role="tab" aria-controls="appointments" aria-selected="true">My Appointments</button>
        </div>
        <div class="nav-item">
            <button class="nav-link" id="medical-records-tab" data-bs-toggle="tab" data-bs-target="#medical-records" type="button" role="tab" aria-controls="medical-records" aria-selected="false">Medical Records</button>
        </div>
        <div class="nav-item">
            <button class="nav-link" id="prescriptions-tab" data-bs-toggle="tab" data-bs-target="#prescriptions" type="button" role="tab" aria-controls="prescriptions" aria-selected="false">Prescriptions</button>
        </div>
        <div class="nav-item">
            <button class="nav-link" id="account-tab" data-bs-toggle="tab" data-bs-target="#account" type="button" role="tab" aria-controls="account" aria-selected="false">Account Settings</button>
        </div>
    </div>
    
    <div class="tab-content" id="profileTabContent">
        <!-- Appointments Tab -->
        <div class="tab-pane fade show active" id="appointments" role="tabpanel" aria-labelledby="appointments-tab">
            <div class="profile-card">
                <div class="d-flex justify-content-between mb-4">
                    <h4>Upcoming Appointments</h4>
                    <a href="{% url 'appointment' %}" class="btn btn-primary">Book New Appointment</a>
                </div>
                
                <div class="appointment-card">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <div>
                            <h5 class="mb-0">Dr. John Smith - Cardiology</h5>
                            <p class="text-muted mb-0">July 3, 2025 | 10:30 AM</p>
                        </div>
                        <span class="appointment-status status-confirmed">Confirmed</span>
                    </div>
                    <p class="mb-0">Medicare Hospital, 2nd Floor, Room 205</p>
                    <div class="mt-3">
                        <a href="#" class="btn btn-outline-primary btn-sm me-2">Reschedule</a>
                        <a href="#" class="btn btn-outline-danger btn-sm">Cancel</a>
                    </div>
                </div>
                
                <div class="appointment-card">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <div>
                            <h5 class="mb-0">Dr. Sarah Johnson - Neurology</h5>
                            <p class="text-muted mb-0">July 15, 2025 | 02:00 PM</p>
                        </div>
                        <span class="appointment-status status-pending">Pending</span>
                    </div>
                    <p class="mb-0">Medicare Hospital, 3rd Floor, Room 310</p>
                    <div class="mt-3">
                        <a href="#" class="btn btn-outline-primary btn-sm me-2">Reschedule</a>
                        <a href="#" class="btn btn-outline-danger btn-sm">Cancel</a>
                    </div>
                </div>
                
                <h4 class="mt-5 mb-4">Past Appointments</h4>
                
                <div class="appointment-card">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <div>
                            <h5 class="mb-0">Dr. Michael Chen - Orthopedic Surgeon</h5>
                            <p class="text-muted mb-0">June 20, 2025 | 11:00 AM</p>
                        </div>
                        <span class="appointment-status status-completed">Completed</span>
                    </div>
                    <p class="mb-0">Medicare Hospital, 2nd Floor, Room 210</p>
                    <div class="mt-3">
                        <a href="#" class="btn btn-outline-primary btn-sm me-2">View Summary</a>
                        <a href="#" class="btn btn-outline-secondary btn-sm">Book Follow-up</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Medical Records Tab -->
        <div class="tab-pane fade" id="medical-records" role="tabpanel" aria-labelledby="medical-records-tab">
            <div class="profile-card">
                <h4 class="mb-4">Medical Records</h4>
                
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i> Your medical records are private and secure. Only you and your authorized healthcare providers can access them.
                </div>
                
                <div class="list-group">
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-1">Annual Physical Examination</h6>
                            <small class="text-muted">June 10, 2025 | Dr. Emily Wilson</small>
                        </div>
                        <span><i class="fas fa-download text-primary"></i></span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-1">Blood Test Results</h6>
                            <small class="text-muted">May 28, 2025 | Medicare Laboratory</small>
                        </div>
                        <span><i class="fas fa-download text-primary"></i></span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-1">Cardiology Consultation</h6>
                            <small class="text-muted">April 15, 2025 | Dr. John Smith</small>
                        </div>
                        <span><i class="fas fa-download text-primary"></i></span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-1">X-Ray Results</h6>
                            <small class="text-muted">March 22, 2025 | Medicare Radiology</small>
                        </div>
                        <span><i class="fas fa-download text-primary"></i></span>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Prescriptions Tab -->
        <div class="tab-pane fade" id="prescriptions" role="tabpanel" aria-labelledby="prescriptions-tab">
            <div class="profile-card">
                <h4 class="mb-4">Current Prescriptions</h4>
                
                <div class="prescription-item">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="mb-0">Lisinopril 10mg</h5>
                        <span class="badge bg-primary">Active</span>
                    </div>
                    <p class="mb-1"><strong>Prescribed by:</strong> Dr. John Smith</p>
                    <p class="mb-1"><strong>Date:</strong> June 15, 2025</p>
                    <p class="mb-1"><strong>Instructions:</strong> Take 1 tablet daily with food.</p>
                    <p class="mb-1"><strong>Refills:</strong> 3 remaining</p>
                    <div class="mt-3">
                        <a href="#" class="btn btn-outline-primary btn-sm">Request Refill</a>
                    </div>
                </div>
                
                <div class="prescription-item">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="mb-0">Atorvastatin 20mg</h5>
                        <span class="badge bg-primary">Active</span>
                    </div>
                    <p class="mb-1"><strong>Prescribed by:</strong> Dr. John Smith</p>
                    <p class="mb-1"><strong>Date:</strong> June 15, 2025</p>
                    <p class="mb-1"><strong>Instructions:</strong> Take 1 tablet daily in the evening.</p>
                    <p class="mb-1"><strong>Refills:</strong> 2 remaining</p>
                    <div class="mt-3">
                        <a href="#" class="btn btn-outline-primary btn-sm">Request Refill</a>
                    </div>
                </div>
                
                <h4 class="mt-5 mb-4">Past Prescriptions</h4>
                
                <div class="prescription-item">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="mb-0">Amoxicillin 500mg</h5>
                        <span class="badge bg-secondary">Completed</span>
                    </div>
                    <p class="mb-1"><strong>Prescribed by:</strong> Dr. Emily Wilson</p>
                    <p class="mb-1"><strong>Date:</strong> April 10, 2025</p>
                    <p class="mb-1"><strong>Instructions:</strong> Take 1 capsule three times daily for 10 days.</p>
                    <p class="mb-1"><strong>Refills:</strong> 0</p>
                </div>
            </div>
        </div>
        
        <!-- Account Settings Tab -->
        <div class="tab-pane fade" id="account" role="tabpanel" aria-labelledby="account-tab">
            <div class="profile-card">
                <h4 class="mb-4">Account Settings</h4>
                
                <form>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="first-name" class="form-label">First Name</label>
                            <input type="text" class="form-control" id="first-name" value="Havindu">
                        </div>
                        <div class="col-md-6">
                            <label for="last-name" class="form-label">Last Name</label>
                            <input type="text" class="form-control" id="last-name" value="Nimadith">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="id-card-name" class="form-label">Full Name (as on ID Card)</label>
                        <input type="text" class="form-control" id="id-card-name" value="Havindu Nimadith">
                    </div>
                    <div class="mb-3">
                        <label for="id-card-number" class="form-label">ID Card Number</label>
                        <input type="text" class="form-control" id="id-card-number" value="0123456789" readonly>
                        <div class="form-text text-muted">ID card number cannot be changed</div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <p class="form-label">ID Card (Front)</p>
                            <div class="border p-2 rounded">
                                <img src="{% static 'images/patient1.jpg' %}" alt="ID Card Front" class="img-fluid rounded">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <p class="form-label">ID Card (Back)</p>
                            <div class="border p-2 rounded">
                                <img src="{% static 'images/patient1.jpg' %}" alt="ID Card Back" class="img-fluid rounded">
                            </div>
                        </div>
                        <div class="col-12 mt-2">
                            <button type="button" class="btn btn-outline-primary btn-sm">Update ID Card Images</button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="phone" class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" id="phone" value="(123) 456-7890">
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Address</label>
                        <textarea class="form-control" id="address" rows="3">Matara</textarea>
                    </div>
                    <div class="mb-3">
                        <label for="emergency-contact" class="form-label">Emergency Contact</label>
                        <input type="text" class="form-control" id="emergency-contact" value="(987) 654-3210">
                    </div>
                    
                    <h5 class="mt-4 mb-3">Additional Settings</h5>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email Address (Optional)</label>
                        <input type="email" class="form-control" id="email" value="havindunimadith7@gmail.com">
                    </div>
                    
                    <h5 class="mt-4 mb-3">Notification Settings</h5>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="email-notifications" checked>
                        <label class="form-check-label" for="email-notifications">Email Notifications</label>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="sms-notifications" checked>
                        <label class="form-check-label" for="sms-notifications">SMS Notifications</label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
